<style>
    flippy {
  float: left;
  -webkit-perspective: 600px;
  -moz-perspective: 600px;
  -ms-perspective: 600px;
  perspective: 600px;
}
flippy-front {
  position: absolute;
  z-index: 900;
  width: inherit;
  height: inherit;
  -webkit-transform: rotate3d(0, 0, 0, 0deg);
  -moz-transform: rotate3d(0, 0, 0, 0deg);
  -ms-transform: rotate3d(0, 0, 0, 0deg);
  transform: rotate3d(0, 0, 0, 0deg);
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  -ms-transform-style: preserve-3d;
  transform-style: preserve-3d;
  -webkit-backface-visibility: hidden;
  -moz-backface-visibility: hidden;
  -ms-backface-visibility: hidden;
  backface-visibility: hidden;
}
flippy-back {
  position: absolute;
  z-index: 800;
  width: inherit;
  height: inherit;
  -webkit-transform: rotate3d(0, 1, 0, -180deg);
  -moz-transform: rotate3d(0, 1, 0, -180deg);
  -ms-transform: rotate3d(0, 1, 0, -180deg);
  transform: rotate3d(0, 1, 0, -180deg);
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  -ms-transform-style: preserve-3d;
  transform-style: preserve-3d;
  -webkit-backface-visibility: hidden;
  -moz-backface-visibility: hidden;
  -ms-backface-visibility: hidden;
  backface-visibility: hidden;
}
flippy.flipped flippy-front {
  z-index: 900;
  -webkit-transform: rotate3d(0, 1, 0, 180deg);
  -moz-transform: rotate3d(0, 1, 0, 180deg);
  -ms-transform: rotate3d(0, 1, 0, 180deg);
  transform: rotate3d(0, 1, 0, 180deg);
}
flippy.flipped flippy-back {
  z-index: 1000;
  -webkit-transform: rotate3d(0, 0, 0, 0deg);
  -moz-transform: rotate3d(0, 0, 0, 0deg);
  -ms-transform: rotate3d(0, 0, 0, 0deg);
  transform: rotate3d(0, 0, 0, 0deg);
}

flippy.fancy {
  float: left;
  margin: 0 10px 0px 0;
  position: relative;
  cursor: pointer;
  width: 100%;
  height: 440px;
}
flippy.fancy img {
  width: 100%;
}
flippy.fancy flippy-front {
  float: none;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 900;
  width: inherit;
  height: inherit;
  border: 1px solid #ccc;
  background: white;
  text-align: center;
  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.9);
}
flippy.fancy flippy-front.flipped {
  border-color: #eee;
  /*background: #333;*/
  box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
}
flippy.fancy flippy-back {
  float: none;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 800;
  width: inherit;
  height: inherit;
  border: 1px solid #ccc;
  background: white;
  text-align: center;
  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.9);
}
flippy.fancy flippy-back.flipped {
  /*background: #80868d;*/
  box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
}
</style>
<!-- start: BREADCRUMB -->
<div class="breadcrumb-wrapper">
    <h4 class="mainTitle no-margin" translate="sidebar.nav.coupons.MAIN"> Coupons </h4>
    <div ncy-breadcrumb class="pull-right"></div>
</div>
<!-- end: BREADCRUMB -->
<div class="container-fluid container-fullw" ng-controller="CouponCtrl">
    <div class="row" ng-show="displayForm">
        <div class="col-md-12">
            <div class="panel panel-white">
                <div class="modal-body">
                    <form name="Form" id="form" ng-submit="saveCouponData(Form)" novalidate>
                        <div class="col-md-6">
                           <fieldset>
                              <legend>
                                 Card Details
                              </legend>
                              <div class="col-md-12">
                                 <div class="col-md-6">
                                    <div class="row">
                                       <div class="col-md-12">
                                          <div class="form-group" >
                                             <div flow-init flow-name="obj.flow" 
                                                flow-files-added="processFiles($files)">
                                                <div class="user-image">
                                                   <div class="thumbnail">
                                                      <img src="https://placeholdit.imgix.net/~text?txtsize=33&txt=add+image&w=225&h=225" style="max-width: 100%; width:100%" alt="" ng-if="!obj.flow.files.length && noImage" width="300">
                                                      <img ng-src="{{promotionalImage}}" style="max-width: 100%; width:100%" alt="" ng-if="!obj.flow.files.length && !noImage" width="300">
                                                      <img flow-img="obj.flow.files[0]" style="max-width: 100%; width:100%" ng-if="obj.flow.files.length" width="300">
                                                   </div>
                                                   <div class="user-image-buttons" ng-if="obj.flow.files.length">
                                                      <span class="btn btn-primary btn-file">
                                                      <i class="fa fa-pencil"></i>
                                                      <input type="file" flow-btn ng-model="cardFrom.productContentImage"/>
                                                      </span>
                                                      <span class="btn btn-danger" ng-click="obj.flow.cancel()"> <i class="fa fa-times"></i> </span>
                                                   </div>
                                                   <div class="user-image-buttons" ng-if="!obj.flow.files.length">
                                                      <span class="btn btn-primary btn-file">
                                                      <i class="fa fa-pencil"></i>
                                                      <input type="file" flow-btn />
                                                      </span>
                                                      <span class="btn btn-danger" ng-if="!noImage" ng-click="removeImage()"><i class="fa fa-times"></i></span>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="row">
                                       <div class="col-md-12">
                                          <img src="{{manufacturerImage}}" alt="" style="max-width: 100%; width:100%" />
                                       </div>
                                    </div>
                                    <div class="row">
                                       <div class="col-md-12">
                                          <div class="form-group" ng-class="{'has-error':Form.promotionalHeadline.$dirty && Form.promotionalHeadline.$invalid, 'has-success':Form.promotionalHeadline.$valid}">
                                             <label> Promotional Headlines <span class="symbol required"></span> </label>
                                             <textarea placeholder="Promotional Headlines" id="promotionalHeadline" class="form-control" name="promotionalHeadline" ng-model="cardFrom.promotionalHeadline" required="true" rows="5" ng-maxlength="100">
                                             </textarea>
                                             <span class="error text-small block" ng-if="Form.promotionalHeadline.$dirty && Form.promotionalHeadline.$invalid">This field is required.</span>
                                             <span class="error text-small block" ng-if="Form.promotionalHeadline.$error.maxlength">Enter maximum 100 characters only.</span>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="col-md-6">
                                    <div class="row">
                                       <div class="col-md-12">
                                          <img src="{{manufacturerImage}}" alt="" style="max-width: 100%; width:100%" />
                                       </div>
                                    </div>
                                    <div class="row">
                                       <div class="col-md-12">
                                          <div class="form-group" ng-class="{'has-error':Form.promotionalText.$dirty && Form.promotionalText.$invalid, 'has-success':Form.promotionalText.$valid}">
                                             <label> Promotional Text <span class="symbol required"></span> </label>
                                             <textarea placeholder="Promotional Text" id="promotionalText" class="form-control" name="promotionalText" ng-model="cardFrom.promotionalText" required="true" rows="5" ng-maxlength="150"></textarea>
                                             <span class="error text-small block" ng-if="Form.promotionalText.$dirty && Form.promotionalText.$invalid">This field is required.</span>
                                             <span class="error text-small block" ng-if="Form.promotionalText.$error.maxlength">Enter maximum 150 characters only.</span>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="row">
                                       <div class="col-md-12">
                                          <div class="form-group" ng-class="{'has-error':Form.disclaimer.$dirty && Form.disclaimer.$invalid, 'has-success':Form.disclaimer.$valid}">
                                             <label> Disclaimer <span class="symbol required"></span> </label>
                                             <textarea placeholder="Disclaimer" id="disclaimer" class="form-control" name="disclaimer" ng-model="cardFrom.disclaimer" required="true" rows="5" ng-maxlength="150"></textarea>
                                             <span class="error text-small block" ng-if="Form.disclaimer.$dirty && Form.disclaimer.$invalid">This field is required.</span>
                                             <span class="error text-small block" ng-if="Form.disclaimer.$error.maxlength">Enter maximum 150 characters only.</span>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </fieldset>
                        </div>
                        <div class="col-md-6" ng-show="isEdit">
                           <fieldset>
                              <legend>
                                 Additional Details
                              </legend>
                              <div class="row">
                                 <div class="col-md-12">
                                    <div class="form-group">
                                       <label> First Tag <span class="symbol required"></span> </label>
                                       <input type="text" ng-model="cardFrom.firstTag" name="firstTag" placeholder="First Tag" uib-typeahead="tags.tag for tags in getTags($viewValue)" typeahead-no-results="noResults" class="form-control" />
                                    </div>
                                 </div>
                              </div>
                              <div class="row">
                                 <div class="col-md-12">
                                    <div class="form-group">
                                       <label> Second Tag <span class="symbol required"></span> </label>
                                       <input type="text" ng-model="cardFrom.secondTag" name="secondTag" placeholder="Second Tag" uib-typeahead="tags.tag for tags in getTags($viewValue)" typeahead-no-results="noResults" class="form-control">
                                    </div>
                                 </div>
                              </div>
                              <div class="row">
                                 <div class="col-md-12">
                                    <div class="form-group">
                                       <label> Third Tag <span class="symbol required"></span> </label>
                                       <input type="text" ng-model="cardFrom.thirdTag" name="thirdTag" placeholder="Third Tag" uib-typeahead="tags.tag for tags in getTags($viewValue)" typeahead-no-results="noResults" class="form-control">
                                    </div>
                                 </div>
                              </div>
                              <div class="row">
                                 <div class="col-md-12">
                                    <div class="form-group" ng-class="{'has-error':Form.startEndDate.$dirty && Form.startEndDate.$invalid, 'has-success':Form.startEndDate.$valid}">
                                       <label>Date Range <span class="symbol required"></span></label>
                                       <input type="text" class="form-control" ng-model="startEndDate" id="startEndDate" name="startEndDate" required="true" />
                                       <span class="error text-small block" ng-if="Form.startEndDate.$dirty && Form.startEndDate.$invalid">Date range is required.</span>
                                    </div>
                                 </div>
                              </div>
                           </fieldset>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-info">Save</button>
                            <button class="btn btn-primary btn-o" ng-click="cancel()">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-show="!displayForm">
        <div class="col-md-12">
            <div class="panel panel-white">
                <div class="panel-body">
                    <h5 class="over-title margin-bottom-15">Coupon List<a href="#" class="btn btn-sm btn-info pull-right" ng-click="openCreateCouponModel(null,'')"><i class="fa fa-plus"></i></a></h5>
                    <div class="table-responsive">
                        <table ng-table="tableParams" show-filter="true" class="table export-table">
                            <tbody ng-repeat="c in $data">
                                <tr ng-class-odd="'odd'" ng-class-even="'even'">
                                    <td class="rowTd" data-title="'Promotion Name'" filter="{'content': 'text'}" sortable="'content'">{{c.content}}</td>
                                    <td class="rowTd" data-title="'Start Date'" sortable="'couponStartDate'">{{ c.couponStartDate | date : "MM/dd/yyyy" }}</td>
                                    <td class="rowTd" data-title="'End Date'" sortable="'couponEndDate'">{{ c.couponEndDate | date : "MM/dd/yyyy" }}</td>
                                    <td class="rowTd">
                                        <a ng-click="openUpdateCouponModel(c,$index)"><i class="fa fa-edit"></i></a></td>
                                    <td class="rowTd">
                                        <a ng-click="promotionPreviewModal(c.contentId)" ><i class="fa fa-eye"></i></a></td>
                                    <td class="rowTd">
                                        <a ng-click="deleteCoupon($index, c.productId, 1)"><i class="fa fa-trash"></i></a></td>
                                </tr>
                            </tbody>
                        </table> 
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/ng-template" id="couponPreviewModal.html">
    <div class="modal-body">
        <div class="row">
            <div class="panel panel-transparent">
                <div class="panel-body">
                        <flippy
                            class="fancy"
                            ng-click="flip()"
                            flip-duration="800"
                            timing-function="ease-in-out">
                                <flippy-front>
                                    <div style="height: 340px;border-style: groove; border:black;border-width: thin;">
                                        <div  align="center" valign="center" style="background-color:#fff;height:100%;padding: 10px;">
                                            <img ng-src="{{promotionalImage}}" alt="" style="max-width: 100%; width:100%;max-height: 50%;" />
                                            <img ng-src="{{manufacturerImage}}" alt="" style="max-width: 100%; width:100%;max-height: 50%;" />
                                            <div class="form-group" ng-bind-html="promotionalHeadline" style="font-size: 20px;"></div>
                                       </div>
                                   </div>
                                </flippy-front>
                                <flippy-back>
                                       <div style="height: 340px;border-style: groove; border:black;border-width: thin;">
                                          <div align="center" valign="center" style="background-color:#fff;height:100%;padding: 10px;">
                                              <img ng-src="{{manufacturerImage}}" alt="" style="max-width: 100%; width:100%;max-height: 50%;" />
                                              <div class="form-group" ng-bind-html="promotionalText"></div>
                                              <hr>
                                              <div class="form-group" ng-bind-html="disclaimer"></div>
                                              <hr>
                                              <div style="margin-top:40px;" class="form-group" ng-bind-html="operationalDays"></div>
                                          </div>
                                      </div>
                                </flippy-back>
                        </flippy>
                    </div>
                </div>
            </div>
       </div>
</script>